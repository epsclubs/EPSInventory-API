EPSInventory-API
================
Application Programming Interface for the EPS Inventory Project.

##Overview
Two data models are used for this API, `User` and `Object`.

####Object
Properties: `$_id`, `$parent`, `$type`, `$properties`
* $_id: a 24-character string generated by MongoDB. (ex. `54a36e477cc2bfaa030041a8`)
* $parent: ID of parent Object.
* $type: Object Type (`Subject`, `List`, `Chemical`, etc.)
* $properties: properties of the Object. (see example below)
```json
properties: {
  "name": "Benzene",
  "quantity": 9000,
  "unit": "gram"
}
```

##Calling the API
API calls can be made with either POST or GET request.

**Sample API Calls in jQuery**
```javascript
// POST
$.post( "http://example.com/api/", { controller: "object", action: "read", options: {tree:true} })
  .done(function( data ) {
    alert( "Data Received: " + data );
});

// GET
$.get( "http://example.com/api/?controller=object&action=read&options=tree" })
  .done(function( data ) {
    alert( "Data Received: " + data );
});
```

**List of actions available for Object model**

* `create`: Creates an Object
* `read`: Returns an Object
* `remove`: Removes an Object
* `update`: Updates or inserts Object properties
* `unset`: Removes Object properties

Name | Parameters | Response
---- | ---------- | --------
create | `string parent`, `string type`, `array<string> properties` | `array` of `Object`
read | `array criteria` ex.`{name:benzene, _id:54a36e477cc2bfaa030041a8}`,<br>Optional: `bool tree`(gets all sub-Objects) ex.`{options:{tree:true}}` | `array` of `Object`
remove | `array criteria` ex.`{name:benzene, _id:54a36e477cc2bfaa030041a8}` | `boolean`
update | `array criteria` ex.`{name:benzene, _id:54a36e477cc2bfaa030041a8}`,<br>`array<string> properties`,<br>`bool multiple`(updates all available records) ex.`{options:{multiple:true}}`| `boolean`
unset | `array criteria` ex.`{name:benzene, _id:54a36e477cc2bfaa030041a8}`,<br>`array<string> properties`,<br>`bool multiple`(updates all available records) ex.`{options:{multiple:true}}`| `boolean`

##TO-DO
1. `User` Object Model (authentication and stuff)
 
## Example Server Response
```php
array(2) {
  ["data"]=>
  array(1) {
    [0]=>
    array(5) {
      ["_id"]=>
      string(24) "54a9b949a528fae772d94d05"
      ["parent"]=>
      string(4) "none"
      ["type"]=>
      string(7) "Subject"
      ["properties"]=>
      array(1) {
        ["name"]=>
        string(9) "Chemistry"
      }
      ["children"]=>
      array(1) {
        [0]=>
        array(5) {
          ["_id"]=>
          string(24) "54a9c4eca528fae772d94d06"
          ["parent"]=>
          string(24) "54a9b949a528fae772d94d05"
          ["type"]=>
          string(4) "List"
          ["properties"]=>
          array(1) {
            ["name"]=>
            string(9) "Chemicals"
          }
          ["children"]=>
          array(1) {
            [0]=>
            array(5) {
              ["_id"]=>
              string(24) "54a9ccf8a528fae772d94d08"
              ["parent"]=>
              string(24) "54a9c4eca528fae772d94d06"
              ["type"]=>
              string(8) "Chemical"
              ["properties"]=>
              array(1) {
                ["name"]=>
                string(7) "Benzene"
              }
              ["children"]=>
              NULL
            }
          }
        }
      }
    }
  }
  ["success"]=>
  bool(true)
}
```
